// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import { Script } from "forge-std/Script.sol";
import { WeakBank } from "src/Reentrancy.sol";

contract DeployBank is Script {

    WeakBank WB;
    address User1 = makeAddr("User1");
    address User2 = makeAddr("User2");
    address User3 = makeAddr("User3");

    function run() public returns(WeakBank) {
        _deployWeakBank();
        return WB;
    }   

    function _deployWeakBank() private {
        WB = new WeakBank();

        vm.deal(User1, 2 ether);
        vm.prank(User1);
        WB.deposit{value: 2 ether}();

        vm.deal(User2, 2 ether);
        vm.prank(User2);
        WB.deposit{value: 2 ether}();        

        vm.deal(User3, 2 ether);
        vm.prank(User3);
        WB.deposit{value: 2 ether}();                     
    } 

}